/******/ (() => { // webpackBootstrap
/*!*************************!*\
  !*** ./src/app/user.js ***!
  \*************************/
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var restaurant = {
  menu: {
    items: [{
      name: 'coke',
      price: 20,
      category: 'drinks',
      sizes: ['small', 'large'],
      img: 'https://m.media-amazon.com/images/I/51jKm1MY43L._SL1000_.jpg',
      inCart: 0
    }, {
      name: 'pepsi',
      price: 20,
      category: 'drinks',
      sizes: ['small', 'large'],
      img: 'https://images-na.ssl-images-amazon.com/images/I/41CBNhIJt0L.jpg',
      inCart: 0
    }, {
      name: 'water',
      price: 20,
      category: 'drinks',
      sizes: ['small', 'large'],
      img: 'https://images-na.ssl-images-amazon.com/images/I/810oxJndUFL._SL1500_.jpg',
      inCart: 0
    }, {
      name: 'burger',
      price: 40,
      category: 'junk food',
      sizes: ['small', 'large'],
      img: 'https://img.buzzfeed.com/thumbnailer-prod-us-east-1/video-api/assets/165384.jpg',
      inCart: 0
    }, {
      name: 'fries',
      price: 20,
      category: 'junk food',
      sizes: ['small', 'large'],
      img: 'https://thumbor.thedailymeal.com/r19Dr1epeqxTZm6O5CuFj0T0kME=//https://www.thedailymeal.com/sites/default/files/recipe/2018/iStock-687999118_1_.jpg',
      inCart: 0
    }, {
      name: 'pizza',
      price: 20,
      category: 'junk food',
      sizes: ['small', 'large'],
      img: 'https://media.istockphoto.com/photos/tasty-pepperoni-pizza-and-cooking-ingredients-tomatoes-basil-on-black-picture-id1083487948?k=6&m=1083487948&s=612x612&w=0&h=lK-mtDHXA4aQecZlU-KJuAlN9Yjgn3vmV2zz5MMN7e4=',
      inCart: 0
    }]
  }
}; // function checkOut() {
//     var popup = document.getElementById('checkout');
//     popup.classList.toggle('show');
// }
// window.checkOut = checkOut;

function renderItems(item) {
  var main = document.getElementById('main');
  var itemWrapper = document.createElement('div');
  itemWrapper.classList.add('item-wrapper');
  main.appendChild(itemWrapper);
  var itemName = document.createElement('label');
  itemName.classList.add('item-name');
  itemName.textContent = item.name.toUpperCase(); //

  itemWrapper.appendChild(itemName);
  var addToCart = document.createElement('button');
  addToCart.classList.add('add-to-cart');
  addToCart.textContent = 'Add to cart';
  itemWrapper.appendChild(addToCart);
  var img = document.createElement('img');
  img.setAttribute('src', item.img);
  itemWrapper.appendChild(img);
  var itemPrice = document.createElement('label'); // itemPrice.classList.add('item-name');

  itemPrice.textContent = "Price: ".concat(item.price); //

  itemWrapper.appendChild(itemPrice);
}

for (var i = 0; i < restaurant.menu.items.length; i++) {
  renderItems(restaurant.menu.items[i]);
}

var carts = document.querySelectorAll('.add-to-cart');

var _loop = function _loop(_i) {
  carts[_i].addEventListener('click', function () {
    cartNumbers(restaurant.menu.items[_i]);
    totalCost(restaurant.menu.items[_i]);
  });
};

for (var _i = 0; _i < carts.length; _i++) {
  _loop(_i);
}

function onLoadCartNubers() {
  var productNumbers = parseInt(localStorage.getItem('cartNumbers'));

  if (productNumbers) {
    document.querySelector('#cart span').textContent = productNumbers;
  }
}

onLoadCartNubers();

function cartNumbers(item) {
  var productNumbers = parseInt(localStorage.getItem('cartNumbers'));

  if (productNumbers) {
    localStorage.setItem('cartNumbers', productNumbers + 1);
    document.querySelector('#cart .number-of-items').textContent = productNumbers + 1;
  } else {
    localStorage.setItem('cartNumbers', 1);
    document.querySelector('#cart span').textContent = 1;
  }

  setItems(item);
}

function setItems(item) {
  var cartItems = localStorage.getItem('itemsInCart');
  cartItems = JSON.parse(cartItems);

  if (cartItems != null) {
    if (cartItems[item.name] == undefined) {
      cartItems = _objectSpread(_objectSpread({}, cartItems), {}, _defineProperty({}, item.name, item));
    }

    cartItems[item.name].inCart += 1;
  } else {
    item.inCart = 1;
    cartItems = _defineProperty({}, item.name, item);
  }

  localStorage.setItem('itemsInCart', JSON.stringify(cartItems));
}

function totalCost(item) {
  var totalCost = localStorage.getItem('totalCost');

  if (totalCost != null) {
    totalCost = parseInt(totalCost);
    localStorage.setItem('totalCost', totalCost + item.price);
  } else {
    localStorage.setItem('totalCost', item.price);
  }
}

document.querySelectorAll('.customer-mode')[0].click();
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50X21hbmFnZW1lbnRfc3lzdGVtLy4vc3JjL2FwcC91c2VyLmpzIl0sIm5hbWVzIjpbInJlc3RhdXJhbnQiLCJtZW51IiwiaXRlbXMiLCJuYW1lIiwicHJpY2UiLCJjYXRlZ29yeSIsInNpemVzIiwiaW1nIiwiaW5DYXJ0IiwicmVuZGVySXRlbXMiLCJpdGVtIiwibWFpbiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpdGVtV3JhcHBlciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsIml0ZW1OYW1lIiwidGV4dENvbnRlbnQiLCJ0b1VwcGVyQ2FzZSIsImFkZFRvQ2FydCIsInNldEF0dHJpYnV0ZSIsIml0ZW1QcmljZSIsImkiLCJsZW5ndGgiLCJjYXJ0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRFdmVudExpc3RlbmVyIiwiY2FydE51bWJlcnMiLCJ0b3RhbENvc3QiLCJvbkxvYWRDYXJ0TnViZXJzIiwicHJvZHVjdE51bWJlcnMiLCJwYXJzZUludCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJxdWVyeVNlbGVjdG9yIiwic2V0SXRlbSIsInNldEl0ZW1zIiwiY2FydEl0ZW1zIiwiSlNPTiIsInBhcnNlIiwidW5kZWZpbmVkIiwic3RyaW5naWZ5IiwiY2xpY2siXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxVQUFVLEdBQUc7QUFDYkMsTUFBSSxFQUFFO0FBQ0ZDLFNBQUssRUFBRSxDQUNIO0FBQ0lDLFVBQUksRUFBRSxNQURWO0FBRUlDLFdBQUssRUFBRSxFQUZYO0FBR0lDLGNBQVEsRUFBRSxRQUhkO0FBSUlDLFdBQUssRUFBRSxDQUFDLE9BQUQsRUFBVSxPQUFWLENBSlg7QUFLSUMsU0FBRyxFQUNDLDhEQU5SO0FBT0lDLFlBQU0sRUFBRTtBQVBaLEtBREcsRUFVSDtBQUNJTCxVQUFJLEVBQUUsT0FEVjtBQUVJQyxXQUFLLEVBQUUsRUFGWDtB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QWIsQ0FBcUIsV0FBckIsQ0FBaEI7O0FBQ0EsTUFBSUwsU0FBUyxJQUFJLElBQWpCLEVBQXVCO0FBQ25CQSxhQUFTLEdBQUdHLFFBQVEsQ0FBQ0gsU0FBRCxDQUFwQjtBQUNBSSxnQkFBWSxDQUFDRyxPQUFiLENBQXFCLFdBQXJCLEVBQWtDUCxTQUFTLEdBQUdyQixJQUFJLENBQUNOLEtBQW5EO0FBQ0gsR0FIRCxNQUdPO0FBQ0grQixnQkFBWSxDQUFDRyxPQUFiLENBQXFCLFdBQXJCLEVBQWtDNUIsSUFBSSxDQUFDTixLQUF2QztBQUNIO0FBQ0o7O0FBQ0RRLFFBQVEsQ0FBQ2dCLGdCQUFULENBQTBCLGdCQUExQixFQUE0QyxDQUE1QyxFQUErQ2lCLEtBQS9DLEciLCJmaWxlIjoidXNlci5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVzdGF1cmFudCA9IHtcclxuICAgIG1lbnU6IHtcclxuICAgICAgICBpdGVtczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnY29rZScsXHJcbiAgICAgICAgICAgICAgICBwcmljZTogMjAsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ2RyaW5rcycsXHJcbiAgICAgICAgICAgICAgICBzaXplczogWydzbWFsbCcsICdsYXJnZSddLFxyXG4gICAgICAgICAgICAgICAgaW1nOlxyXG4gICAgICAgICAgICAgICAgICAgICdodHRwczovL20ubWVkaWEtYW1hem9uLmNvbS9pbWFnZXMvSS81MWpLbTFNWTQzTC5fU0wxMDAwXy5qcGcnLFxyXG4gICAgICAgICAgICAgICAgaW5DYXJ0OiAwLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAncGVwc2knLFxyXG4gICAgICAgICAgICAgICAgcHJpY2U6IDIwLFxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdkcmlua3MnLFxyXG4gICAgICAgICAgICAgICAgc2l6ZXM6IFsnc21hbGwnLCAnbGFyZ2UnXSxcclxuICAgICAgICAgICAgICAgIGltZzpcclxuICAgICAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMtbmEuc3NsLWltYWdlcy1hbWF6b24uY29tL2ltYWdlcy9JLzQxQ0JOaElKdDBMLmpwZycsXHJcbiAgICAgICAgICAgICAgICBpbkNhcnQ6IDAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICd3YXRlcicsXHJcbiAgICAgICAgICAgICAgICBwcmljZTogMjAsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ2RyaW5rcycsXHJcbiAgICAgICAgICAgICAgICBzaXplczogWydzbWFsbCcsICdsYXJnZSddLFxyXG4gICAgICAgICAgICAgICAgaW1nOlxyXG4gICAgICAgICAgICAgICAgICAgICdodHRwczovL2ltYWdlcy1uYS5zc2wtaW1hZ2VzLWFtYXpvbi5jb20vaW1hZ2VzL0kvODEwb3hKbmRVRkwuX1NMMTUwMF8uanBnJyxcclxuICAgICAgICAgICAgICAgIGluQ2FydDogMCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2J1cmdlcicsXHJcbiAgICAgICAgICAgICAgICBwcmljZTogNDAsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ2p1bmsgZm9vZCcsXHJcbiAgICAgICAgICAgICAgICBzaXplczogWydzbWFsbCcsICdsYXJnZSddLFxyXG4gICAgICAgICAgICAgICAgaW1nOlxyXG4gICAgICAgICAgICAgICAgICAgICdodHRwczovL2ltZy5idXp6ZmVlZC5jb20vdGh1bWJuYWlsZXItcHJvZC11cy1lYXN0LTEvdmlkZW8tYXBpL2Fzc2V0cy8xNjUzODQuanBnJyxcclxuICAgICAgICAgICAgICAgIGluQ2FydDogMCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2ZyaWVzJyxcclxuICAgICAgICAgICAgICAgIHByaWNlOiAyMCxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnanVuayBmb29kJyxcclxuICAgICAgICAgICAgICAgIHNpemVzOiBbJ3NtYWxsJywgJ2xhcmdlJ10sXHJcbiAgICAgICAgICAgICAgICBpbWc6XHJcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHBzOi8vdGh1bWJvci50aGVkYWlseW1lYWwuY29tL3IxOURyMWVwZXF4VFptNk81Q3VGajBUMGtNRT0vL2h0dHBzOi8vd3d3LnRoZWRhaWx5bWVhbC5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy9yZWNpcGUvMjAxOC9pU3RvY2stNjg3OTk5MTE4XzFfLmpwZycsXHJcbiAgICAgICAgICAgICAgICBpbkNhcnQ6IDAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdwaXp6YScsXHJcbiAgICAgICAgICAgICAgICBwcmljZTogMjAsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ2p1bmsgZm9vZCcsXHJcbiAgICAgICAgICAgICAgICBzaXplczogWydzbWFsbCcsICdsYXJnZSddLFxyXG4gICAgICAgICAgICAgICAgaW1nOlxyXG4gICAgICAgICAgICAgICAgICAgICdodHRwczovL21lZGlhLmlzdG9ja3Bob3RvLmNvbS9waG90b3MvdGFzdHktcGVwcGVyb25pLXBpenphLWFuZC1jb29raW5nLWluZ3JlZGllbnRzLXRvbWF0b2VzLWJhc2lsLW9uLWJsYWNrLXBpY3R1cmUtaWQxMDgzNDg3OTQ4P2s9NiZtPTEwODM0ODc5NDgmcz02MTJ4NjEyJnc9MCZoPWxLLW10REhYQTRhUWVjWmxVLUtKdUFsTjlZamduM3ZtVjJ6ejVNTU43ZTQ9JyxcclxuICAgICAgICAgICAgICAgIGluQ2FydDogMCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgfSxcclxufTtcclxuXHJcbi8vIGZ1bmN0aW9uIGNoZWNrT3V0KCkge1xyXG4vLyAgICAgdmFyIHBvcHVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoZWNrb3V0Jyk7XHJcbi8vICAgICBwb3B1cC5jbGFzc0xpc3QudG9nZ2xlKCdzaG93Jyk7XHJcbi8vIH1cclxuLy8gd2luZG93LmNoZWNrT3V0ID0gY2hlY2tPdXQ7XHJcblxyXG5mdW5jdGlvbiByZW5kZXJJdGVtcyhpdGVtKSB7XHJcbiAgICB2YXIgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XHJcblxyXG4gICAgdmFyIGl0ZW1XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBpdGVtV3JhcHBlci5jbGFzc0xpc3QuYWRkKCdpdGVtLXdyYXBwZXInKTtcclxuICAgIG1haW4uYXBwZW5kQ2hpbGQoaXRlbVdyYXBwZXIpO1xyXG5cclxuICAgIHZhciBpdGVtTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgICBpdGVtTmFtZS5jbGFzc0xpc3QuYWRkKCdpdGVtLW5hbWUnKTtcclxuICAgIGl0ZW1OYW1lLnRleHRDb250ZW50ID0gaXRlbS5uYW1lLnRvVXBwZXJDYXNlKCk7IC8vXHJcbiAgICBpdGVtV3JhcHBlci5hcHBlbmRDaGlsZChpdGVtTmFtZSk7XHJcblxyXG4gICAgdmFyIGFkZFRvQ2FydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgYWRkVG9DYXJ0LmNsYXNzTGlzdC5hZGQoJ2FkZC10by1jYXJ0Jyk7XHJcbiAgICBhZGRUb0NhcnQudGV4dENvbnRlbnQgPSAnQWRkIHRvIGNhcnQnO1xyXG4gICAgaXRlbVdyYXBwZXIuYXBwZW5kQ2hpbGQoYWRkVG9DYXJ0KTtcclxuXHJcbiAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICBpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBpdGVtLmltZyk7XHJcbiAgICBpdGVtV3JhcHBlci5hcHBlbmRDaGlsZChpbWcpO1xyXG5cclxuICAgIHZhciBpdGVtUHJpY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG4gICAgLy8gaXRlbVByaWNlLmNsYXNzTGlzdC5hZGQoJ2l0ZW0tbmFtZScpO1xyXG4gICAgaXRlbVByaWNlLnRleHRDb250ZW50ID0gYFByaWNlOiAke2l0ZW0ucHJpY2V9YDsgLy9cclxuICAgIGl0ZW1XcmFwcGVyLmFwcGVuZENoaWxkKGl0ZW1QcmljZSk7XHJcbn1cclxuXHJcbmZvciAobGV0IGkgPSAwOyBpIDwgcmVzdGF1cmFudC5tZW51Lml0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICByZW5kZXJJdGVtcyhyZXN0YXVyYW50Lm1lbnUuaXRlbXNbaV0pO1xyXG59XHJcblxyXG5sZXQgY2FydHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWRkLXRvLWNhcnQnKTtcclxuZm9yIChsZXQgaSA9IDA7IGkgPCBjYXJ0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgY2FydHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgY2FydE51bWJlcnMocmVzdGF1cmFudC5tZW51Lml0ZW1zW2ldKTtcclxuICAgICAgICB0b3RhbENvc3QocmVzdGF1cmFudC5tZW51Lml0ZW1zW2ldKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbkxvYWRDYXJ0TnViZXJzKCkge1xyXG4gICAgbGV0IHByb2R1Y3ROdW1iZXJzID0gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnROdW1iZXJzJykpO1xyXG4gICAgaWYgKHByb2R1Y3ROdW1iZXJzKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhcnQgc3BhbicpLnRleHRDb250ZW50ID0gcHJvZHVjdE51bWJlcnM7XHJcbiAgICB9XHJcbn1cclxub25Mb2FkQ2FydE51YmVycygpO1xyXG5mdW5jdGlvbiBjYXJ0TnVtYmVycyhpdGVtKSB7XHJcbiAgICBsZXQgcHJvZHVjdE51bWJlcnMgPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydE51bWJlcnMnKSk7XHJcbiAgICBpZiAocHJvZHVjdE51bWJlcnMpIHtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2FydE51bWJlcnMnLCBwcm9kdWN0TnVtYmVycyArIDEpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXJ0IC5udW1iZXItb2YtaXRlbXMnKS50ZXh0Q29udGVudCA9XHJcbiAgICAgICAgICAgIHByb2R1Y3ROdW1iZXJzICsgMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhcnROdW1iZXJzJywgMSk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhcnQgc3BhbicpLnRleHRDb250ZW50ID0gMTtcclxuICAgIH1cclxuICAgIHNldEl0ZW1zKGl0ZW0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRJdGVtcyhpdGVtKSB7XHJcbiAgICBsZXQgY2FydEl0ZW1zID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2l0ZW1zSW5DYXJ0Jyk7XHJcbiAgICBjYXJ0SXRlbXMgPSBKU09OLnBhcnNlKGNhcnRJdGVtcyk7XHJcblxyXG4gICAgaWYgKGNhcnRJdGVtcyAhPSBudWxsKSB7XHJcbiAgICAgICAgaWYgKGNhcnRJdGVtc1tpdGVtLm5hbWVdID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjYXJ0SXRlbXMgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi5jYXJ0SXRlbXMsXHJcbiAgICAgICAgICAgICAgICBbaXRlbS5uYW1lXTogaXRlbSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FydEl0ZW1zW2l0ZW0ubmFtZV0uaW5DYXJ0ICs9IDE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGl0ZW0uaW5DYXJ0ID0gMTtcclxuICAgICAgICBjYXJ0SXRlbXMgPSB7XHJcbiAgICAgICAgICAgIFtpdGVtLm5hbWVdOiBpdGVtLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaXRlbXNJbkNhcnQnLCBKU09OLnN0cmluZ2lmeShjYXJ0SXRlbXMpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdG90YWxDb3N0KGl0ZW0pIHtcclxuICAgIGxldCB0b3RhbENvc3QgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG90YWxDb3N0Jyk7XHJcbiAgICBpZiAodG90YWxDb3N0ICE9IG51bGwpIHtcclxuICAgICAgICB0b3RhbENvc3QgPSBwYXJzZUludCh0b3RhbENvc3QpO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b3RhbENvc3QnLCB0b3RhbENvc3QgKyBpdGVtLnByaWNlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvdGFsQ29zdCcsIGl0ZW0ucHJpY2UpO1xyXG4gICAgfVxyXG59XHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jdXN0b21lci1tb2RlJylbMF0uY2xpY2soKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==